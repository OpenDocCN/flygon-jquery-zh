["```js\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Chapter 10 :: jQuery Mobile Template</title>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <link rel=\"stylesheet\" href=\"jquery-mobile/jquery.mobile.min.css\" />\n    <script src=\"img/jquery.min.js\"></script>\n    <script src=\"img/jquery.mobile.min.js\"></script>\n</head>\n<body>\n<div data-role=\"page\">\n    <header data-role=\"header\">\n        <h1>Chapter 10 :: Recipe 1 :: jQuery Mobile Webpage Template</h1>\n    </header>\n    <div data-role=\"content\">\n        <p>This is where your page content will go.</p>\n    </div>\n    <footer data-role=\"footer\">\n        <h4>Look how easy it is to add a styled footer</h4>\n    </footer>\n</div>\n</body>\n</html>\n```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 10 :: jQuery Mobile Template</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n    </head>\n    <body>\n\n    </body>\n    </html>\n    ```", "```js\n    <div data-role=\"page\" id=\"home\">\n        <header data-role=\"header\">\n            <h1>Home Page</h1>\n        </header>\n        <div data-role=\"content\">\n            <p>This is the content for the home page. You can choose to go to another page using the buttons below.</p>\n            <a href=\"#about\" data-role=\"button\" data-theme=\"a\">About</a>\n            <a href=\"#contact\" data-role=\"button\" data-theme=\"a\">Contact</a>\n        </div>\n        <footer data-role=\"footer\">\n            <h4>Chapter 10 :: Recipe 2</h4>\n        </footer>\n    </div>\n    ```", "```js\n    <div data-role=\"page\" id=\"about\" data-title=\"About Page\">\n        <header data-role=\"header\">\n            <h1><a href=\"#home\" data-role=\"button\" data-theme=\"b\" data-icon=\"arrow-l\" data-inline=\"true\">Back</a> About Page</h1>\n        </header>\n        <div data-role=\"content\">\n            <p>This is the content for the about page.</p>\n        </div>\n        <footer data-role=\"footer\">\n            <h4>Chapter 10 :: Recipe 2</h4>\n        </footer>\n    </div>\n    ```", "```js\n    <div data-role=\"page\" id=\"about\" data-title=\"About Page\">\n        <header data-role=\"header\">\n            <h1><a href=\"#home\" data-role=\"button\" data-theme=\"b\" data-icon=\"arrow-l\" data-inline=\"true\">Back</a> About Page</h1>\n        </header>\n        <div data-role=\"content\">\n            <p>This is the content for the about page.</p>\n        </div>\n        <footer data-role=\"footer\">\n            <h4>Chapter 10 :: Recipe 2</h4>\n        </footer>\n    </div>\n    ```", "```js\n<div data-role=\"page\" id=\"about\" data-title=\"About Page\">\n    <header data-role=\"header\">\n\n    </header>\n    <div data-role=\"content\">\n\n    </div>\n    <footer data-role=\"footer\">\n\n    </footer>\n</div>\n```", "```js\n<a href=\"#about\" data-role=\"button\" data-theme=\"a\">About</a>\n```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 10 :: Recipe 3</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"includes/jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n        <script src=\"img/script.js\"></script>\n    </head>\n    <body>\n    <div id=\"home\" data-role=\"page\">\n        <header data-role=\"header\"><h1>Dynamic page creation demo</h1></header>\n        <div data-role=\"content\">\n            <h2>Select a category:</h2>\n            <a href=\"#categorypage?cat=colours\" data-role=\"button\">Colours</a>\n            <a href=\"#categorypage?cat=shapes\" data-role=\"button\">Shapes</a>\n            <a href=\"#categorypage?cat=sounds\" data-role=\"button\">Sounds</a>\n        </div>\n    </div>\n    <div id=\"categorypage\" data-role=\"page\">\n        <div data-role=\"header\"><h1></h1></div>\n        <div data-role=\"content\"></div>\n    </div>\n    </body>\n    </html>\n    ```", "```js\n    <?php\n    $categories = array(\n        \"colours\" => array(\n            \"title\" => \"Colours\",\n            \"description\" => \"Some of my favorite colours\",\n            \"items\" => array(\n                \"Black\",\n                \"Green\",\n                \"Red\",\n                \"Blue\",\n                \"Purple\"\n            )\n        ),\n        \"shapes\" => array(\n            \"title\" => \"Shapes\",\n            \"description\" => \"Some shapes I really like\",\n            \"items\" => array(\n                \"Triangle\",\n                \"Circle\",\n                \"Square\"\n            )\n        ),\n        \"sounds\" => array(\n            \"title\" => \"Sounds\",\n            \"description\" => \"Some crazy sounds\",\n            \"items\" => array(\n                \"Buzz\",\n                \"Swish\",\n                \"Boom!\",\n                \"Tick\"\n            )\n        )\n    );\n    if (isset($_POST['category'])) {\n        $response = array(\n            \"success\" => true,\n            \"data\" => array()\n        );\n        $category = $_POST['category'];\n        if (isset($categories[$category])) {\n            $response[\"data\"] = $categories[$category];\n        } else {\n            $response[\"success\"] = false;\n            $response[\"data\"] = \"Invalid category provided\";\n        }\n        header(\"Content-Type: application/json; charset-UTF-8\");\n        echo json_encode($response);\n    }\n    ```", "```js\n    $(document).bind(\"pagebeforechange\", function(e, data) {\n        if (typeof data.toPage === \"string\") {\n            var urlObject = $.mobile.path.parseUrl(data.toPage);\n            if (urlObject.hash.search(/^#categorypage/) !== -1 && urlObject.hash.search(/cat=*/) !== -1) {\n                displayCategory(urlObject, data.options);\n                //We are handling the change page event ourselves so prevent the default behaviour\n                e.preventDefault();\n            }\n        }\n    });\n    ```", "```js\n    function displayCategory(urlObject, options) {\n        var catName = urlObject.hash.replace(/.*cat=/, \"\");\n        var pageId = urlObject.hash.replace( /\\?.*$/, \"\");\n        var _page = $(pageId);\n        var _header = _page.children(\":jqmData(role=header)\");\n        var _content = _page.children(\":jqmData(role=content)\");\n        $.ajax({\n            url: 'categories.php',\n            type: 'POST',\n            data: {\n                category: catName\n            },\n            success: function(response) {\n                if (response.success) {\n                    var category = response.data;\n                    //Add title to header\n                    _header.find(\"h1\").html(category.title);\n                    //Create content HTML\n                    var contentHtml = \"<p>\" + category.description + \":</p><ul>\";\n                    for (var i = 0; i < category.items.length; i++) {\n                        var item = category.items[i];\n                        contentHtml += \"<li>\" + item + \"</li>\";\n                    }\n                    contentHtml += \"</ul>\";\n                    _content.html(contentHtml);\n                    //Update the URL to reflect the page the user is actually on\n                    _page.data(\"url\", urlObject.href);\n                    $.mobile.changePage(_page, options);\n                } else {\n                    alert(response.data);\n                }\n            }\n        });\n    }\n    ```", "```js\n#categorypage?cat=colours\n```", "```js\n$(document).bind(\"pagebeforechange\", function(e, data) {\n    if (typeof data.toPage === \"string\") {\n        var urlObject = $.mobile.path.parseUrl(data.toPage);\n        if (urlObject.hash.search(/^#categorypage/) !== -1 && urlObject.hash.search(/cat=*/) !== -1) {\n            displayCategory(urlObject, data.options);\n            //We are handling the change page event ourselves to prevent the default behaviour\n            e.preventDefault();\n        }\n    }\n});\n```", "```js\nif (typeof data.toPage === \"string\") {\n```", "```js\nvar urlObject = $.mobile.path.parseUrl(data.toPage);\n```", "```js\nif (urlObject.hash.search(/^#categorypage/) !== -1 && urlObject.hash.search(/cat=*/) !== -1) {\n```", "```js\nvar catName = urlObject.hash.replace(/.*cat=/, \"\");\nvar pageId = urlObject.hash.replace( /\\?.*$/, \"\");\nvar _page = $(pageId);\nvar _header = _page.children(\":jqmData(role=header)\");\nvar _content = _page.children(\":jqmData(role=content)\");\n```", "```js\nvar category = response.data;\n//Add title to header\n_header.find(\"h1\").html(category.title);\n//Create content HTML\nvar contentHtml = \"<p>\" + category.description + \":</p><ul>\";\nfor (var i = 0; i < category.items.length; i++) {\nvar item = category.items[i];\ncontentHtml += \"<li>\" + item + \"</li>\";\n}\ncontentHtml += \"</ul>\";\n_content.html(contentHtml);\n```", "```js\n_page.data(\"url\", urlObject.href);\n```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 10 :: jQuery Mobile Template</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n    </head>\n    <body>\n    <div data-role=\"page\">\n        <header data-role=\"header\">\n            <h1>Chapter 10 :: Recipe 4</h1>\n        </header>\n        <div data-role=\"content\">\n\n        </div>\n        <footer data-role=\"footer\">\n            <h4>The HTML5 tel: attribute allows you to provide interaction to telephone numbers</h4>\n        </footer>\n    </div>\n    </body>\n    </html>\n    ```", "```js\n    <p>This is my simple mobile website, click the button below to call me!</p>\n    <a href=\"tel: 01234 567891\" data-role=\"button\">Call Me!</a>\n    ```", "```js\n<a href=\"mailto:name@domain.com\">E-Mail Me</a>\n```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 10 :: Recipe 5</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n    </head>\n    <body>\n    <div data-role=\"page\">\n        <header data-role=\"header\">\n            <h1>Chapter 10 :: Recipe 5</h1>\n        </header>\n        <div data-role=\"content\">\n\n        </div>\n        <footer data-role=\"footer\">\n            <h4>Use the HTML5 sms: attribute to open the default SMS client on click</h4>\n        </footer>\n    </div>\n    </body>\n    </html>\n    ```", "```js\n    <p>This is my simple mobile website, click the button below to send me an SMS message!</p>\n    <a href=\"sms:01234 567891\" data-role=\"button\">SMS Me!</a>\n    ```", "```js\n<a href=\"sms:01234 567891\" data-role=\"button\">SMS Me!</a>\n```", "```js\n<a href=\"sms:01234 567891?body=This is some text in the body\" data-role=\"button\">SMS Me!</a>\n```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 10 :: Recipe 6</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n    </head>\n    <body>\n    <div data-role=\"page\">\n        <header data-role=\"header\">\n            <h1>Chapter 10 :: Recipe 6 :: Lists</h1>\n        </header>\n        <div data-role=\"content\">\n\n        </div>\n    </div>\n    </body>\n    </html>\n    ```", "```js\n    <p>This page contains a selection of list examples for you to reuse at your convenience.</p>\n    <h2>Basic linked list</h2>\n    <ul data-role=\"listview\">\n    <li><a href='#'>Linked Item 1</a></li>\n    <li><a href='#'>Linked Item 2</a></li>\n    <li><a href='#'>Linked Item 3</a></li>\n    </ul>\n    ```", "```js\n    <h2>Nested list</h2>\n    <p>Please note that the sub-list will not work if you have opened recipe-6.html directly in a web browser. For the sub-list navigation to work you must serve this HTML file from a web server. i.e. http://localhost/recipe-6.html.</p>\n    <ul data-role=\"listview\">\n    <li><a href='#'>Top Level Item 1</a></li>\n    <li><a href='#'>Top Level Item 2</a></li>\n    <li><a href='#'>Top Level Item 3 - With Sub-Level</a>\n    <ul data-role=\"listview\">\n    <li><a href='#'>Second Level Item 1</a></li>\n    <li><a href='#'>Second Level Item 2</a></li>\n    </ul>\n    </li>\n    </ul>\n    ```", "```js\n    <h2>List items with buttons</h2>\n    <ul data-role=\"listview\" data-split-icon=\"delete\">\n    <li><a href='#'>Jane Doe</a><a href='#'></a></li>\n    <li><a href='#'>John Doe</a><a href='#'></a></li>\n    <li><a href='#'>James Mathews</a><a href='#'></a></li>\n    </ul>\n    ```", "```js\n    <h2>List with filter</h2>\n    <ul data-role=\"listview\" data-filter=\"true\">\n    <li><a href='#'>Cat</a></li>\n    <li><a href='#'>Dog</a></li>\n    <li><a href='#'>Lizard</a></li>\n    <li><a href='#'>Rabbit</a></li>\n    </ul>\n    ```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 11 :: Recipe 1</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"includes/jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n        <script src=\"img/recipe-7.js\"></script>\n    </head>\n    <body>\n    <div data-role=\"page\">\n        <header data-role=\"header\">\n            <h1>Chapter 10 :: Recipe 7 :: jQuery Mobile Touch Events</h1>\n        </header>\n        <div data-role=\"content\">\n            <p>Perform various touch events and watch the output below.</p>\n            <ul id=\"touch-event-response\" data-role=\"listview\"></ul>\n        </div>\n    </div>\n    </body>\n    </html>\n    ```", "```js\n    function addEvent(msg) {\n        var _list = $('#touch-event-response');\n        _list.append(\"<li>\" + msg + \"</li>\");\n        _list.listview('refresh');\n    }\n    ```", "```js\n    $(function(){\n        $(document).bind('tap', function(){\n            addEvent(\"Tap\");\n        });\n    });\n    ```", "```js\n    $(document).bind('taphold', function(){\n    addEvent(\"Tap & Hold\");\n    });\n    ```", "```js\n    $(document).bind('swipe', function(){\n    addEvent(\"Swipe\");\n    });\n    ```", "```js\n    $(document).bind('swipeleft', function(){\n    $('#touch-event-response').empty();\n    });\n    ```", "```js\n    $(window).bind('orientationchange', function(event){\n    addEvent(\"Orientation changed to: \" + event.orientation);\n    });\n    ```", "```js\n$(document).bind('[EVENT]', function() {\n});\n```", "```js\nvar _list = $('#touch-event-response');\n_list.append(\"<li>\" + msg + \"</li>\");\n_list.listview('refresh');\n```", "```js\n$(window).bind('orientationchange', function(event){\naddEvent(\"Orientation changed to: \" + event.orientation);\n});\n```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 10 :: Recipe 8</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n    </head>\n    <body>\n    <div data-role=\"page\" id=\"home\">\n        <header data-role=\"header\" data-theme=\"b\">\n            <h1>Chapter 10 :: Recipe 8</h1>\n        </header>\n        <div data-role=\"content\">\n        </div>\n    </div>\n    </body>\n    </html>\n    ```", "```js\n    <h1>Text Input</h1>\n    <div data-role=\"fieldcontain\">\n    <label for=\"textInput\">Text input:</label>\n    <input type=\"text\" name=\"textInput\" id=\"textInput\" />\n    </div>\n    <div data-role=\"fieldcontain\">\n    <label for=\"textArea\">Text area:</label>\n    <textarea id=\"textArea\" name=\"textArea\"></textarea>\n    </div>\n    <div data-role=\"fieldcontain\">\n    <label for=\"textSearch\">Text search:</label>\n    <input type=\"text\" name=\"textSearch\" id=\"textSearch\" data-type=\"search\">\n    </div>\n    ```", "```js\n    <h1>Select Menu</h1>\n    <div data-role=\"fieldcontain\">\n    <label for=\"simpleSelect\">Simple select:</label>\n    <select id=\"simpleSelect\">\n    <option value=\"1\">Option 1</option>\n    <option value=\"2\">Option 2</option>\n           <option value=\"3\">Option 3</option>\n    </select>\n    </div>\n    <div data-role=\"fieldcontain\">\n    <label for=\"customSelect\">Custom select:</label>\n    <select id=\"customSelect\" data-native-menu=\"false\">\n    <option value=\"1\">Option 1</option>\n    <option value=\"2\">Option 2</option>\n          <option value=\"3\">Option 3</option>\n    </select>\n    </div>\n    ```", "```js\n    <h1>Selection</h1>\n    <h2>Checkboxes</h2>\n    <fieldset data-role=\"controlgroup\">\n    <input type=\"checkbox\" name=\"checkbox-1\" id=\"checkbox-1\">\n    <label for=\"checkbox-1\">Option 1</label>\n    <input type=\"checkbox\" name=\"checkbox-2\" id=\"checkbox-2\">\n    <label for=\"checkbox-2\">Option 2</label>\n    <input type=\"checkbox\" name=\"checkbox-3\" id=\"checkbox-3\">\n    <label for=\"checkbox-3\">Option 3</label>\n    </fieldset>\n    <h2>Radio buttons</h2>\n    <fieldset data-role=\"controlgroup\">\n    <input type=\"radio\" name=\"radio-1\" id=\"radio-1\">\n    <label for=\"radio-1\">Option 1</label>\n    <input type=\"radio\" name=\"radio-1\" id=\"radio-2\">\n    <label for=\"radio-2\">Option 2</label>\n    <input type=\"radio\" name=\"radio-1\" id=\"radio-3\">\n    <label for=\"radio-3\">Option 3</label>\n    </fieldset>\n    <h2>Inline selection</h2>\n    <fieldset data-role=\"controlgroup\" data-type=\"horizontal\">\n    <input type=\"checkbox\" name=\"checkbox-1\" id=\"checkbox-4\">\n    <label for=\"checkbox-4\">Option 1</label>\n    <input type=\"checkbox\" name=\"checkbox-2\" id=\"checkbox-5\">\n    <label for=\"checkbox-5\">Option 2</label>\n    <input type=\"checkbox\" name=\"checkbox-3\" id=\"checkbox-6\">\n    <label for=\"checkbox-6\">Option 3</label>\n    </fieldset>\n    <fieldset data-role=\"controlgroup\" data-type=\"horizontal\">\n    <input type=\"radio\" name=\"radio-2\" id=\"radio-4\">\n    <label for=\"radio-4\">Option 1</label>\n    <input type=\"radio\" name=\"radio-2\" id=\"radio-5\">\n    <label for=\"radio-5\">Option 2</label>\n    <input type=\"radio\" name=\"radio-2\" id=\"radio-6\">\n    <label for=\"radio-6\">Option 3</label>\n    </fieldset>\n    ```", "```js\n    <h1>Additional</h1>\n    <div data-role=\"fieldcontain\">\n    <label for=\"switch\">Switch:</label>\n    <select id=\"switch\" data-role=\"slider\">\n    <option value=\"1\">On</option>\n          <option value=\"0\">Off</option>\n    </select>\n    </div>\n    <div data-role=\"fieldcontain\">\n    <label for=\"slider\">Slider:</label>\n    <input type=\"number\" data-type=\"range\" name=\"slider\" id=\"slider\" value=\"50\" min=\"0\" max=\"100\" data-highlight=\"true\">\n    </div>\n    ```", "```js\n<div data-role=\"fieldcontain\">\n<label for=\"textInput\">Text input:</label>\n<input type=\"text\" name=\"textInput\" id=\"textInput\" />\n</div>\n```", "```js\n<fieldset data-role=\"controlgroup\">\n<input type=\"checkbox\" name=\"checkbox-1\" id=\"checkbox-1\">\n<label for=\"checkbox-1\">Option 1</label>\n<input type=\"checkbox\" name=\"checkbox-2\" id=\"checkbox-2\">\n<label for=\"checkbox-2\">Option 2</label>\n<input type=\"checkbox\" name=\"checkbox-3\" id=\"checkbox-3\">\n<label for=\"checkbox-3\">Option 3</label>\n</fieldset>\n```", "```js\n<div data-role=\"fieldcontain\">\n<label for=\"slider\">Slider:</label>\n<input type=\"number\" data-type=\"range\" name=\"slider\" id=\"slider\" value=\"50\" min=\"0\" max=\"100\" data-highlight=\"true\">\n</div>\n```", "```js\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>Chapter 10 :: Register & Login</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link rel=\"stylesheet\" href=\"includes/jquery-mobile/jquery.mobile.min.css\" />\n        <script src=\"img/jquery.min.js\"></script>\n        <script src=\"img/jquery.mobile.min.js\"></script>\n        <script src=\"img/script2.js\"></script>\n        <link rel=\"stylesheet\" href=\"styles.css\" />\n    </head>\n    <body>\n    <div data-role=\"page\" id=\"home\">\n        <header data-role=\"header\" data-theme=\"b\">\n            <h1><a href=\"#home\" data-role=\"button\" data-icon=\"home\" data-iconpos=\"notext\" data-inline=\"true\"></a> Home Page</h1>\n        </header>\n        <div data-role=\"content\">\n            <p>Welcome to my community.</p>\n            <a data-role=\"button\" href=\"#login\">Login</a>\n            <a data-role=\"button\" data-theme=\"a\" href=\"#register\">Register</a>\n        </div>\n    </div>\n    </body>\n    </html>\n    ```", "```js\n    <div data-role=\"page\" id=\"login\" data-title=\"Login\">\n        <header data-role=\"header\" data-theme=\"b\">\n            <h1><a href=\"#home\" data-role=\"button\" data-icon=\"home\" data-iconpos=\"notext\" data-inline=\"true\"></a> Login</h1>\n        </header>\n        <div data-role=\"content\">\n            <div data-role=\"fieldcontain\">\n                <label for=\"login-username\">Username:</label>\n                <input type=\"text\" name=\"username\" id=\"login-username\" value=\"\" />\n            </div>\n            <div data-role=\"fieldcontain\">\n                <label for=\"login-password\">Password:</label>\n                <input type=\"password\" name=\"password\" id=\"login-password\" value=\"\" />\n            </div>\n            <button data-role=\"button\" id=\"login-account\" data-theme=\"a\">Login</button>\n            <p>Don't have an account? <a href='#register'>Register</a>.</p>\n        </div>\n    </div>\n    ```", "```js\n    <div data-role=\"page\" id=\"register\" data-title=\"Register\">\n        <header data-role=\"header\" data-theme=\"b\">\n            <h1><a href=\"#home\" data-role=\"button\" data-icon=\"home\" data-iconpos=\"notext\" data-inline=\"true\"></a> Register</h1>\n        </header>\n        <div data-role=\"content\">\n            <div data-role=\"fieldcontain\">\n                <label for=\"register-username\">Username:</label>\n                <input type=\"text\" name=\"username\" id=\"register-username\" value=\"\" />\n            </div>\n            <div data-role=\"fieldcontain\">\n                <label for=\"register-password\">Password:</label>\n                <input type=\"password\" name=\"password\" id=\"register-password\" value=\"\" />\n            </div>\n            <div data-role=\"fieldcontain\">\n                <label for=\"register-passwordagain\">Password Again:</label>\n                <input type=\"password\" name=\"register-passwordagain\" id=\"register-passwordagain\" value=\"\" />\n            </div>\n            <button data-role=\"button\" id=\"register-account\" data-theme=\"a\">Register</button>\n            <p>Already have an account? <a href='#login'>Login</a>.</p>\n        </div>\n    </div>\n    ```", "```js\n    <div data-role=\"page\" id=\"member\">\n        <header data-role=\"header\" data-theme=\"b\">\n            <h1><a href=\"#home\" data-role=\"button\" data-icon=\"home\" data-iconpos=\"notext\" data-inline=\"true\"></a> Member's Page</h1>\n        </header>\n        <div data-role=\"content\">\n            <p>You're logged in.</p>\n            <button data-role=\"button\" data-theme=\"a\" id=\"logout\">Logout</button>\n        </div>\n    </div>\n    ```", "```js\n    SET SQL_MODE=\"NO_AUTO_VALUE_ON_ZERO\";\n    SET time_zone = \"+00:00\";\n\n    --\n    -- Database: `chapter10`\n    --\n    CREATE DATABASE `chapter10` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;\n    USE `chapter10`;\n\n    -- --------------------------------------------------------\n\n    --\n    -- Table structure for table `user`\n    --\n\n    CREATE TABLE IF NOT EXISTS `user` (\n      `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n      `username` varchar(128) DEFAULT NULL,\n      `password` varchar(512) DEFAULT NULL,\n      UNIQUE KEY `id` (`id`),\n      UNIQUE KEY `username` (`username`)\n    ) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=8;\n    ```", "```js\n    <?php\n    $mysqli = new mysqli(\"localhost\", \"root\", \"\", \"chapter10\");\n    if ($mysqli->connect_errno) {\n        die(\"Failed to connect to MySQL: (\" . $mysqli->connect_errno . \") \" . $mysqli->connect_error);\n    }\n    $pwsalt = \"TH1SISF0RCHAPTER10\";\n    ```", "```js\n    <?php\n    require_once(\"connect.db.php\");\n    $username = isset($_POST['username']) ? strtolower($_POST['username']) : \"\";\n    $password = isset($_POST['password']) ? $_POST['password'] : \"\";\n    $passwordAgain = isset($_POST['passwordagain']) ? $_POST['passwordagain'] : \"\";\n\n    $response = array(\n        \"success\" => false,\n        \"errors\" => array()\n    );\n\n    if (strlen($username) < 3 || strlen($username) > 32) {\n        $response[\"errors\"][\"username\"] = \"Username must be between 3 and 64 characters in length\";\n    } else {\n        $query = \"SELECT `id` FROM `user` WHERE `username` = ? LIMIT 1\";\n        $stmt = $mysqli->stmt_init();\n        if ($stmt->prepare($query)) {\n            $stmt->bind_param(\"s\", $username);\n            if ($stmt->execute()) {\n                $stmt->store_result();\n                if ($stmt->num_rows > 0) {\n                    $response[\"errors\"][\"username\"] = \"Username has already been taken\";\n                }\n            } else {\n                $response[\"errors\"][\"username\"] = \"Could not execute query\";\n            }\n        } else {\n            $response[\"errors\"][\"username\"] = \"Could query database for existing usernames\";\n        }\n        $stmt->close();\n    }\n\n    if (strlen($password) < 6 || strlen($password) > 32) {\n        $response[\"errors\"][\"password\"] = \"Password must be between 6 and 32 characters in length\";\n    }\n    if ($password != $passwordAgain) {\n        $response[\"errors\"][\"passwordagain\"] = \"Passwords must match\";\n    }\n\n    if (empty($response[\"errors\"])) {\n        $query = \"INSERT INTO `user` (`username`, `password`) VALUES (?, ?)\";\n        $stmt = $mysqli->stmt_init();\n        if ($stmt->prepare($query)) {\n            $password = crypt($password, $pwsalt);\n            $stmt->bind_param(\"ss\", $username, $password);\n            if ($stmt->execute()) {\n                $stmt->close();\n                $response[\"success\"] = true;\n            } else {\n                $response[\"errors\"][\"username\"] = \"Could not execute query\";\n            }\n        } else {\n            $response[\"errors\"][\"username\"] = \"Could not insert new user, please try again\";\n        }\n    }\n    $mysqli->close();\n    header(\"Content-Type: application/json; charset=UTF-8\");\n    echo json_encode($response);\n    ```", "```js\n    <?php\n    session_start();\n    require_once(\"connect.db.php\");\n    $username = isset($_POST['username']) ? strtolower($_POST['username']) : \"\";\n    $password = isset($_POST['password']) ? $_POST['password'] : \"\";\n\n    $response = array(\n        \"success\" => false,\n        \"error\" => \"\",\n        \"user\" => array()\n    );\n\n    $query = \"SELECT `id` FROM `user` WHERE `username` = ? AND `password` = ? LIMIT 1\";\n    $stmt = $mysqli->stmt_init();\n    if ($stmt->prepare($query)) {\n        $password = crypt($password, $pwsalt);\n        $stmt->bind_param(\"ss\", $username, $password);\n        if ($stmt->execute()) {\n            $res = $stmt->get_result();\n            if ($res->num_rows > 0) {\n                $row = $res->fetch_assoc();\n                $response[\"success\"] = true;\n                $_SESSION['uid'] = $response[\"user\"][\"id\"] = $row[\"id\"];\n                $_SESSION['username'] = $response[\"user\"][\"username\"] = $username;\n            } else {\n                $response[\"error\"] = \"Incorrect username or password\";\n            }\n        } else {\n            $response[\"error\"] = \"Could not execute query\";\n        }\n    } else {\n        $response[\"error\"] = \"Could not query database\";\n    }\n    $stmt->close();\n    $mysqli->close();\n    header(\"Content-Type: application/json; charset=UTF-8\");\n    echo json_encode($response);\n    ```", "```js\n    <?php\n    session_start();\n    $response = array(\n        \"success\" => false,\n        \"error\" => \"\"\n    );\n    if (isset($_SESSION[\"uid\"]) && isset($_SESSION[\"username\"])) {\n        $_SESSION = array();\n        session_destroy();\n     $response[\"success\"] = true;\n    } else {\n        $response[\"success\"] = false;\n        $response[\"error\"] = \"Not logged in\";\n    }\n    header(\"Content-Type: application/json; charset=UTF-8\");\n    echo json_encode($response);\n    ```", "```js\n    $('#register-account').click(function(){\n            $('.input-error').remove();\n            var data = {\n                username: $('#register-username').val(),\n                password: $('#register-password').val(),\n                passwordagain: $('#register-passwordagain').val()\n            };\n            $.ajax({\n                type: 'POST',\n                url: 'register.php',\n                data: data,\n                beforeSend: function() {\n                    $.mobile.loading('show');\n                },\n                success: function(data) {\n                    $.mobile.loading('hide');\n                    if (data.success) {\n                        $.mobile.showPageLoadingMsg(\"b\", \"Registration successful! You may now login.\", true);\n                    } else {\n                        $.each(data.errors, function(key, value){\n                            $('#register-' + key).parent().after(\"<div class='input-error'>\" + value + \"</div>\");\n                        });\n                    }\n                }\n            });\n        });\n    ```", "```js\n    $('#login-account').click(function(){\n            var data = {\n                username: $('#login-username').val(),\n                password: $('#login-password').val()\n            };\n            $.ajax({\n                type: 'POST',\n                url: 'login.php',\n                data: data,\n                beforeSend: function() {\n                    $.mobile.loading('show');\n                },\n                success: function(data) {\n                    $.mobile.loading('hide');\n                    if (data.success) {\n                        $.mobile.showPageLoadingMsg(\"b\", \"Login Successful\", true);\n                        localStorage.setItem(\"user\", JSON.stringify(data.user));\n                        $.mobile.changePage(\"#member\");\n                    } else {\n                        $.mobile.showPageLoadingMsg(\"b\", data.error, true);\n                    }\n                }\n            });\n        });\n    ```", "```js\n     $('#logout').click(function(){\n            $.ajax({\n                type: 'POST',\n                url: 'logout.php',\n                beforeSend: function() {\n                    $.mobile.loading('show');\n                },\n                success: function(data) {\n                    $.mobile.loading('hide');\n                    if (data.success) {\n                        localStorage.removeItem(\"user\");\n                        $.mobile.changePage(\"#home\");\n                    } else {\n                        $.mobile.showPageLoadingMsg(\"b\", data.error, true);\n                    }\n                }\n            });\n        });\n    ```", "```js\n    $(document).bind(\"pagebeforechange\", function(e, data) {\n            if (typeof data.toPage === \"string\") {\n                var urlObject = $.mobile.path.parseUrl(data.toPage);\n                if (urlObject.hash.search(/^#member/) !== -1) {\n                    if (getUser() === false) {\n                        e.preventDefault();\n                        $.mobile.showPageLoadingMsg(\"b\", \"You must be logged in to access this page\", true);\n                        setTimeout(function(){\n                            $.mobile.hidePageLoadingMsg();\n                            $.mobile.changePage(\"#home\");\n                        }, 1500);\n                    }\n                }\n            }\n        });\n    ```", "```js\n    function getUser() {\n        var user = localStorage.getItem(\"user\");\n        if (user == null) {\n            return false;\n        } else {\n            return JSON.parse(user);\n        }\n    }\n    ```", "```js\n    .input-error {\n        position: absolute;\n        font-size: 10px;\n        color: #ff0800;\n    }\n    ```", "```js\n$response = array(\n    \"success\" => false,\n    \"errors\" => array()\n);\n```", "```js\n$response[\"errors\"][\"username\"] = \"Username has already been taken\";\n```", "```js\nheader(\"Content-Type: application/json; charset=UTF-8\");\necho json_encode($response);\n```", "```js\n$.ajax({\ntype: 'POST',\nurl: 'register.php',\ndata: data,\nbeforeSend: function() {\n$.mobile.loading('show');\n},\nsuccess: function(data) {\n       $.mobile.loading('hide');\n// -- HIDDEN CODE\n}\n});\n```", "```js\n$.mobile.showPageLoadingMsg(\"b\", \"Registration successful! You may now login.\", true);\n```", "```js\nlocalStorage.setItem(\"user\", JSON.stringify(data.user));\n```", "```js\nfunction getUser() {\n    var user = localStorage.getItem(\"user\");\n    if (user == null) {\n        return false;\n    } else {\n        return JSON.parse(user);\n    }\n}\n```", "```js\n    CREATE TABLE IF NOT EXISTS `note` (\n      `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n      `user_id` bigint(20) unsigned NOT NULL,\n      `text` varchar(2048) DEFAULT NULL,\n      `added` datetime DEFAULT NULL,\n      UNIQUE KEY `id` (`id`),\n      KEY `user_id` (`user_id`)\n    ) ENGINE=InnoDB  DEFAULT CHARSET=latin1;\n\n    ALTER TABLE `note`\n      ADD CONSTRAINT `note_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;\n    ```", "```js\n    <div data-role=\"page\" id=\"member\">\n        <div data-role=\"header\" data-theme=\"b\">\n            <h1><a href=\"#home\" data-role=\"button\" data-icon=\"home\" data-iconpos=\"notext\" data-inline=\"true\"></a> Member's Page</h1>\n        </div>\n        <div data-role=\"content\">\n            <p>Welcome <strong><span class=\"username\"></span></strong>, what would you like to do?</p>\n            <a href=\"#notes\" data-role=\"button\" data-inline=\"true\" data-icon=\"arrow-r\">View Notes</a>\n            <button data-role=\"button\" data-theme=\"a\" id=\"logout\" data-inline=\"true\" data-icon=\"delete\">Logout</button>\n        </div>\n    </div>\n    ```", "```js\n    <div data-role=\"page\" id=\"notes\">\n        <div data-role=\"header\" data-theme=\"b\">\n            <h1><a href=\"#home\" data-role=\"button\" data-icon=\"home\" data-iconpos=\"notext\" data-inline=\"true\"></a> Your Notes</h1>\n        </div>\n        <div data-role=\"content\">\n            <h1>Your Notes <a href=\"#add-note\" data-icon=\"plus\" data-role=\"button\" data-inline=\"true\">Add note</a><a href=\"#member\" data-theme=\"e\" data-icon=\"back\" data-role=\"button\" data-inline=\"true\">Back</a></h1>\n            <ul data-role=\"listview\" data-filter=\"true\" id=\"current-notes\" data-icon=\"delete\"></ul>\n        </div>\n    </div>\n    ```", "```js\n    <div data-role=\"page\" id=\"add-note\" data-title=\"Add new note\">\n        <div data-role=\"header\" data-theme=\"b\">\n            <h1>Add new note</h1>\n        </div>\n        <div data-role=\"content\">\n            <textarea id=\"note-text\"></textarea>\n            <div class='input-error' style=\"display: none;\" id=\"note-error\"></div>\n            <div class=\"actions\">\n                <button data-role=\"button\" id=\"save-new-note\" data-theme=\"a\" data-icon=\"check\" data-inline=\"true\">Save</button>\n                <a href=\"#notes\" data-role=\"button\" data-theme=\"e\" data-icon=\"delete\" data-inline=\"true\">Cancel</a>\n            </div>\n        </div>\n    </div>\n    ```", "```js\n    <?php\n    session_start();\n\n    require_once(\"connect.db.php\");\n    $text = isset($_POST['text']) ? $_POST['text'] : \"\";\n\n    $response = array(\n        \"success\" => false,\n        \"error\" => \"\",\n        \"note\" => array()\n    );\n\n    if (!isset($_SESSION['uid'])) {\n        $response[\"error\"] = \"You must be logged in to add a new note\";\n    } else if (strlen($text) <= 0 || strlen($text) > 1024) {\n        $response[\"error\"] = \"A note must be between 1 and 1024 characters in length\";\n    } else {\n        $query = \"INSERT INTO `note` (`user_id`, `text`, `added`) VALUES (?, ?, ?)\";\n        $stmt = $mysqli->stmt_init();\n        if ($stmt->prepare($query)) {\n            $now = date(\"Y-m-d H:i:s\");\n            $stmt->bind_param(\"sss\", $_SESSION['uid'], $text, $now);\n            if ($stmt->execute()) {\n                $stmt->close();\n                $response[\"success\"] = true;\n                $response[\"note\"] = array(\n                    \"id\" => $mysqli->insert_id,\n                    \"text\" => $text,\n                    \"added\" => $now\n                );\n            } else {\n                $response[\"error\"] = \"Could not execute query\";\n            }\n        } else {\n            $response[\"error\"] = \"Could not insert new note, please try again\";\n        }\n    }\n    $mysqli->close();\n    header(\"Content-Type: application/json; charset=UTF-8\");\n    echo json_encode($response);\n    ```", "```js\n    <?php\n    session_start();\n    require_once(\"connect.db.php\");\n\n    $response = array(\n        \"success\" => false,\n        \"error\" => \"\",\n        \"notes\" => array()\n    );\n\n    if (!isset($_SESSION['uid'])) {\n        $response[\"error\"] = \"You must be logged in to add a new note\";\n    } else {\n        $query = \"SELECT * FROM `note` WHERE `user_id` = ? ORDER BY `added` DESC\";\n        $stmt = $mysqli->stmt_init();\n        if ($stmt->prepare($query)) {\n            $stmt->bind_param(\"s\", $_SESSION['uid']);\n            if ($stmt->execute()) {\n                $res = $stmt->get_result();\n                $response[\"success\"] = true;\n                if ($res->num_rows > 0) {\n                    while ($row = $res->fetch_assoc()) {\n                        $response[\"notes\"][] = array(\n                            \"id\" => $row[\"id\"],\n                            \"text\" => $row[\"text\"],\n                            \"added\" => $row[\"added\"]\n                        );\n                    }\n                }\n            } else {\n                $response[\"error\"] = \"Could not execute query\";\n            }\n        } else {\n            $response[\"error\"] = \"Could not query database\";\n        }\n        $stmt->close();\n    }\n    $mysqli->close();\n    header(\"Content-Type: application/json; charset=UTF-8\");\n    echo json_encode($response);\n    ```", "```js\n    <?php\n    session_start();\n\n    require_once(\"connect.db.php\");\n    $id = isset($_POST['id']) ? (int)$_POST['id'] : 0;\n\n    $response = array(\n        \"success\" => false,\n        \"error\" => \"\"\n    );\n\n    if (!isset($_SESSION['uid'])) {\n        $response[\"error\"] = \"You must be logged in to delete a note\";\n    } else if ($id <= 0) {\n        $response[\"error\"] = \"Invalid note ID specified\";\n    } else {\n        $query = \"DELETE FROM `note` WHERE `id` = ?\";\n        $stmt = $mysqli->stmt_init();\n        if ($stmt->prepare($query)) {\n            $stmt->bind_param(\"i\", $id);\n            if ($stmt->execute()) {\n                $stmt->close();\n                $response[\"success\"] = true;\n            } else {\n                $response[\"error\"] = \"Could not execute query\";\n            }\n        } else {\n            $response[\"error\"] = \"Could not insert new note, please try again\";\n        }\n    }\n    $mysqli->close();\n    header(\"Content-Type: application/json; charset=UTF-8\");\n    echo json_encode($response);\n    ```", "```js\n    var _currentNotes = $('#current-notes');\n    ```", "```js\n    _currentNotes.data(\"initialized\", false);\n    ```", "```js\n    if (urlObject.hash.search(/^#member/) !== -1) {\n    var user = getUser();\n    if (user === false) {\n          e.preventDefault();\n    $.mobile.showPageLoadingMsg(\"b\", \"You must be logged in to access this page\", true);\n    setTimeout(function(){\n    $.mobile.hidePageLoadingMsg();\n    $.mobile.changePage(\"#home\");\n    }, 1500);\n    } else {\n          $('.username').html(user.username);\n    }\n    }\n    ```", "```js\n    $('#save-new-note').click(function(){\n            $('#note-error').hide();\n            var _text = $('#note-text');\n            $.ajax({\n                type: 'POST',\n                url: 'addNote.php',\n                data: {\n                    'text': _text.val()\n                },\n                beforeSend: function() {\n                    $.mobile.loading('show');\n                },\n                success: function(data) {\n                    $.mobile.loading('hide');\n                    if (data.success) {\n                        _text.val(\"\");\n                        _currentNotes.prepend(createNoteItem(data.note));\n                        //If the list view has already been initialized then we need to refresh it\n                        if (_currentNotes.hasClass('ui-listview')) {\n                            _currentNotes.listview('refresh');\n                        }\n                        $.mobile.changePage(\"#notes\");\n                    } else {\n                        $('#note-error').html(data.error).fadeIn();\n                    }\n                }\n            });\n        });\n    ```", "```js\n    $(document).bind(\"pagebeforechange\", function(e, data) {\n     if (typeof data.toPage === \"string\") {\n      var urlObject = $.mobile.path.parseUrl(data.toPage);\n      if (urlObject.hash.search(/^#member/) !== -1) {\n       //HIDDEN CODE – DO NOT REMOVE\n      } else if(urlObject.hash.search(/^#notes/) !== -1) {\n       if (_currentNotes.data(\"initialized\") != true) {\n        e.preventDefault();\n        _currentNotes.empty();\n        _currentNotes.data(\"initialized\", true);\n        $.ajax({\n         type: 'GET',\n         url: 'getNotes.php',\n         beforeSend: function() {\n          $.mobile.loading('show');\n         },\n         success: function(data) {\n          $.mobile.loading('hide');\n          if (data.success) {\n           for (var i = 0; i < data.notes.length; i++) {\n            _currentNotes.append(createNoteItem(data.notes[i]));\n           }\n           //If the list view has already been initialized then we need to refresh it\n           if (_currentNotes.hasClass('ui-listview')) {                                       _currentNotes.listview(\"refresh\");\n            }\n           $.mobile.changePage(\"#notes\");\n           } else {\n            alert(data.error);\n           }\n          }\n        });\n       }\n      }\n     }\n    });\n    ```", "```js\n    $(document).on('click', '.delete-note', function(){\n            var _listItem = $(this).closest('li');\n            var id = _listItem.data(\"id\");\n            var response = confirm(\"Are you sure you want to delete this note?\");\n            if (response) {\n                $.ajax({\n                    type: 'POST',\n                    url: 'deleteNote.php',\n                    data: {\n                        'id': id\n                    },\n                    beforeSend: function() {\n                        $.mobile.loading('show');\n                    },\n                    success: function(data) {\n                        $.mobile.loading('hide');\n                        if (data.success) {\n                            _listItem.remove();\n                            _currentNotes.listview(\"refresh\");\n                        } else {\n                            alert(data.error);\n                        }\n                    }\n                });\n            }\n        });\n    ```", "```js\n    function createNoteItem(note) {\n        return \"<li data-id='\" + note.id + \"'><a href='javascript:void(0);' class='delete-note'>\" + note.text + \"</a></li>\";\n    }\n    ```", "```js\nvar _currentNotes = $('#current-notes');\n```", "```js\nelse if(urlObject.hash.search(/^#notes/) !== -1) {\n```", "```js\n_currentNotes.empty();\n    _currentNotes.data(\"initialized\", true);\n    $.ajax({\n     type: 'GET',\n     url: 'getNotes.php',\n     beforeSend: function() {\n      $.mobile.loading('show');\n     },\n     success: function(data) {\n      $.mobile.loading('hide');\n      if (data.success) {\n       for (var i = 0; i < data.notes.length; i++) {\n        _currentNotes.append(createNoteItem(data.notes[i]));\n       }\n       //If the list view has already been initialized then we need to refresh it\nif (_currentNotes.hasClass('ui-listview')) {                                       _currentNotes.listview(\"refresh\");\n        }\n       $.mobile.changePage(\"#notes\");\n       } else {\n        alert(data.error);\n       }\n      }\n       });\n```", "```js\n//If the list view has already been initialized then we need to refresh it\nif (_currentNotes.hasClass('ui-listview')) {\n   _currentNotes.listview(\"refresh\");\n      }\n```", "```js\n_currentNotes.prepend(createNoteItem(data.note));\n//If the list view has already been initialized then we need to refresh it\nif (_currentNotes.hasClass('ui-listview')) {\n_currentNotes.listview('refresh');\n}\n$.mobile.changePage(\"#notes\");\n```", "```js\nvar _listItem = $(this).closest('li');\n_listItem.remove();\n```"]
["```js\nListing 13-1: index.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>RSS Reader App</title>\n<meta name=\"viewport\" content=\"width=device-width, initial- scale=1\">\n<link rel=\"stylesheet\" href =\"jquery.mobile/jquery.mobile- 1.1.0.min.css\" />\n<script src=\"img/jquery-1.6.4.min.js\"></script>\n<script src=\"img/jquery.mobile-1.1.0.min.js\"></script>\n<script src=\"img/main.js\"></script>\n</head>\n<body>\n<div data-role=\"page\" id=\"intropage\">\n<div data-role=\"header\">\n<h1>RSS Reader Application</h1>\n</div>\n<div data-role=\"content\" id=\"introContent\">\n<p id=\"introContentNoFeeds\" style=\"display:none\">\nWelcome to the RSS Reader Application. You do not currently have any RSS Feeds. Please use the \"Add Feed\" button below to begin.\n</p>\n<ul id=\"feedList\" data-role=\"listview\" data-inset=\"true\" data- split-icon=\"delete\"></ul>\n<a href =\"addfeed.html\" data-role=\"button\" data-theme=\"b\">Add Feed</a>\n</div>\n<div data-role=\"footer\">\n<h4>Created with jQuery Mobile</h4>\n</div>\n</div>\n<script>\n$(\"#intropage\").bind(\"pagecreate\", function(e) {\ninit();\n});\n</script>\n</body>\n</html>\n\n```", "```js\nListing 13-2: Portion of main.js\nfunction init() {\n//handle getting and displaying the intro or feeds\n$(\"#intropage\").live(\"pageshow\",function(e) {\ndisplayFeeds();\n});\n\n```", "```js\nListing 13-3: displayFeeds from main.js\nfunction displayFeeds() {\nvar feeds = getFeeds();\nif(feeds.length == 0) {\n//in case we had one form before...\n$(\"#feedList\").html(\"\");\n$(\"#introContentNoFeeds\").show();\n} else {\n$(\"#introContentNoFeeds\").hide();\nvar s = \"\";\nfor(var i=0; i<feeds.length; i++) {\ns+= \"<li><a href ='http://feed.html?id=\"+i+\"' data- feed='\"+i+\"'>\"+feeds[i].name+\"</a> <a href ='http:// class='deleteFeed' data-feedid='\"+i+\"'>Delete</a></li>\";\n}\n$(\"#feedList\").html(s);\n$(\"#feedList\").listview(\"refresh\");\n}\n}\n\n```", "```js\nListing 13-3: getFeeds, addFeed, and removeFeed\nfunction getFeeds() {\nif(localStorage[\"feeds\"]) {\nreturn JSON.parse(localStorage[\"feeds\"]);\n} else return [];\n}\nfunction addFeed(name,url) {\nvar feeds = getFeeds();\nfeeds.push({name:name,url:url});\nlocalStorage[\"feeds\"] = JSON.stringify(feeds);\n}\nfunction removeFeed(id) {\nvar feeds = getFeeds();\nfeeds.splice(id, 1);\nlocalStorage[\"feeds\"] = JSON.stringify(feeds);\ndisplayFeeds();\n}\n\n```", "```js\nListing 13-4: addfeed.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>Add Feed</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n</head>\n<body>\n<div data-role=\"page\" id=\"addfeedpage\" data-add-back-btn=\"true\">\n<div data-role=\"header\">\n<h1>Add Feed</h1>\n</div>\n<div data-role=\"content\">\n<form id=\"addFeedForm\">\n<div data-role=\"fieldcontain\">\n<label for=\"feedname\">Feed Name:</label>\n<input type=\"text\" id=\"feedname\" value=\"\" />\n</div>\n<div data-role=\"fieldcontain\">\n<label for=\"feedurl\">Feed URL:</label>\n<input type=\"text\" id=\"feedurl\" value=\"\" />\n</div>\n<input type=\"submit\" value=\"Add Feed\" data-theme=\"b\">\n</div>\n<div data-role=\"footer\">\n<h4>Created with jQuery Mobile</h4>\n</div>\n</div>\n</body>\n</html>\n\n```", "```js\nListing 13-5: Add Feed event registration logic\n//Listen for the addFeedPage so we can support adding feeds\n$(\"#addfeedpage\").live(\"pageshow\", function(e) {\n$(\"#addFeedForm\").submit(function(e) {\nhandleAddFeed();\nreturn false;\n});\n});\n\n```", "```js\nListing 13-6: handleAddFeed\nfunction handleAddFeed() {\nvar feedname = $.trim($(\"#feedname\").val());\nvar feedurl = $.trim($(\"#feedurl\").val());\n//basic error handling\nvar errors = \"\";\nif(feedname == \"\") errors += \"Feed name is required.\\n\";\nif(feedurl == \"\") errors += \"Feed url is required.\\n\";\nif(errors != \"\") {\n//Create a PhoneGap notification for the error\nnavigator.notification.alert(errors, function() {});\n} else {\naddFeed(feedname, feedurl);\n$.mobile.changePage(\"index.html\");\n}\n}\n\n```", "```js\nnavigator.notification.alert(errors, function() {});\n\n```", "```js\nListing 13-7: feed.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>Feed</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n</head>\n<body>\n<div data-role=\"page\" id=\"feedpage\" data-add-back-btn=\"true\">\n<div data-role=\"header\">\n<h1></h1>\n</div>\n<div data-role=\"content\" id=\"feedcontents\">\n</div>\n<div data-role=\"footer\">\n<h4>Created with jQuery Mobile</h4>\n</div>\n</div>\n</body>\n</html>\n\n```", "```js\nListing 13-8: Feed display handler (part 1)\n//Listen for the Feed Page so we can displaying entries\n$(\"#feedpage\").live(\"pageshow\", function(e) {\n//get the feed id based on query string\nvar query = $(this).data(\"url\").split(\"=\")[1];\n//remove ?id=\nquery = query.replace(\"?id=\",\"\");\n//assume it's a valid ID, since this is a mobile app folks won't be messing with the urls, but keep\n//in mind normally this would be a concern\nvar feeds = getFeeds();\nvar thisFeed = feeds[query];\n$(\"h1\",this).text(thisFeed.name);\nif(!feedCache[thisFeed.url]) {\n$(\"#feedcontents\").html(\"<p>Fetching data...</p>\");\n//now use Google Feeds API\n$.get(\"https://ajax.googleapis.com/ajax/services/feed/ load?v=1.0&num=10&q=\"+encodeURI(thisFeed.url)+\"&callback=?\", {}, function(res,code) {\n//see if the response was good...\nif(res.responseStatus == 200) {\nfeedCache[thisFeed.url] = res.responseData.feed.entries;\ndisplayFeed( thisFeed.url);\n} else {\nvar error = \"<p>Sorry, but this feed could not be loaded:</p><p>\"+res.responseDetails+\"</p>\";\n$(\"#feedcontents\").html(error);\n}\n},\"json\");\n} else {\ndisplayFeed(thisFeed.url);\n}\n});\n\n```", "```js\nfor(var i=0; i<feeds.length; i++) {\ns+= \"<li><a href='http://feed.html?id=\"+i+\"' data- feed='\"+i+\"'>\"+feeds[i].name+\"</a> <a href='http:// class='deleteFeed' data-feedid='\"+i+\"'>Delete</a></li>\";\n}\n\n```", "```js\n//used for caching\nvar feedCache= {};\n\n```", "```js\nif(!feedCache[thisFeed.url]) {\n\n```", "```js\nListing 13-9: displayFeed\nfunction displayFeed(url) {\nvar entries = feedCache[url];\nvar s = \"<ul data-role='listview' data-inset='true' id='entrylist'>\";\nfor(var i=0; i<entries.length; i++) {\nvar entry = entries[i];\ns += \"<li><a href ='entry.html?entry=\"+i+\"&url=\"+encodeURI(url)+\"'>\"+ entry.title+\"</a></li>\";\n}\ns += \"</ul>\";\n$(\"#feedcontents\").html(s);\n$(\"#entrylist\").listview();\n}\n\n```", "```js\nListing 13-10: entry.html\n<!DOCTYPE html>\n<html>\n<head>\n<title>Entry</title>\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n</head>\n<body>\n<div data-role=\"page\" id=\"entrypage\" data-add-back-btn=\"true\">\n<div data-role=\"header\">\n<h1></h1>\n</div>\n<div data-role=\"content\">\n<div id=\"entrycontents\"></div>\n<a href =\"\" id=\"entrylink\" data-role=\"button\">Visit Entry</a>\n</div>\n<div data-role=\"footer\">\n<h4>Created with jQuery Mobile</h4>\n</div>\n</div>\n</body>\n</html>\n\n```", "```js\nListing 13-11: Entry page event handler\n$(\"#entrypage\").live(\"pageshow\", function(e) {\n//get the entry id and url based on query string\nvar query = $(this).data(\"url\").split(\"?\")[1];\n//remove ?\nquery = query.replace(\"?\",\"\");\n//split by &\nvar parts = query.split(\"&\");\nvar entryid = parts[0].split(\"=\")[1];\nvar url = parts[1].split(\"=\")[1];\nvar entry = feedCache[url][entryid];\n$(\"h1\",this).text(entry.title);\n$(\"#entrycontents\",this).html(entry.content);\n$(\"#entrylink\",this).attr(\"href\",entry.link);\n});\n\n```"]